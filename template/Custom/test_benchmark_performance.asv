function test_benchmark_performance(x,y,NVAR,dataset_file)


 MAXGEN=150;		% Maximum no. of generations (unused)
 STOP_PERCENTAGE=1;    % percentage of equal fitness individuals for stopping
 NIND = 50;
 ELITIST = .1;
 STOP_EPOCHS = 150;
 N_EXPERIMENTS = 5;
 PR_MUT = .2;
 PR_CROSS = .9;

 CROSS_OP = "cross_sequential_constructive";
 MUT_OP = "mut_RSM";
 IMPR = ["impr3","impr5",""];
 CROWDING = 0;
 MAX_TIME = 60;
 SAMPLES_SEC = 100;
%Casteamos a variables categoricas para poder meter estos parametros en la tabla
IMPR_cat=categorical(IMPR);


%%Name of the file to save table from experiment i
[ ~,filename, ~]=fileparts(dataset_file);
table_path=sprintf("Res_Benchmark/Results_performance-%s.csv", filename);

%Initializations
%%Table
Imp="";Av_Best=0;Epochs=0;Time=0;
Results = table(Imp,Av_Best,Epochs,Time);


%%Table
%Total number of different parameter combinations
cont=0;

times = zeros(1,N_EXPERIMENTS);
av_bests = zeros(1,N_EXPERIMENTS);
epochs = zeros(1,N_EXPERIMENTS);

%%Performing Tests
for i=1:length(IMPR)
    %%Creating struct for saving running res of each scal test(for diff NIND)

    for n=1:N_EXPERIMENTS
        [time, epoch, best, av_best] = run_ga_benchmark_performance(x, y, NIND, MAXGEN, NVAR, ELITIST, PR_CROSS, PR_MUT, CROSS_OP, MUT_OP, LOCALLOOP, CROWDING, MAX_TIME);
        av_bests(n) = av_best;
        times(n) = time;
        epochs(n) = epoch;
        if time > MAX_TIME
            fprintf('Goal not reached in iteration %d', cont);
        end
    end
    cont=cont+1;

    
    Av_Best=mean(av_bests);
        
    %%"Appending" the results in a new row
    Results.Imp(cont)=IMPR_cat(i);
    Results.Av_Best(cont)=Av_Best;

    % Results.Fit_var(cont)=Fit_var;
    Results.Time = mean(times);
    Results.Epochs = mean(epochs)
    
    fprintf("Finished iter no. %d \n",cont)
end



%%Saving Table to file
writetable(Results,table_path)


end
